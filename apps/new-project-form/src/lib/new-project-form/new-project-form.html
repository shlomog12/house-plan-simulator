<form [formGroup]="projectForm" (ngSubmit)="onSubmit()" class="project-form">
  <h2>×™×¦×™×¨×ª ×¤×¨×•×™×§×˜ ××“×¨×™×›×œ×™ ×—×“×© ğŸ—ï¸</h2>
  <hr>

  <hp-textfield 
    label="×©× ×”×¤×¨×•×™×§×˜ *" 
    [placeholder]="'×œ×“×•×’××”: ×¤×¨×•×™×§×˜ ××¨×›×– ×”×¢×™×¨'"
    formControlName="projectName"
  ></hp-textfield>
  @if (getControlError('projectName', 'required')) { <div class="error-message">
    </div>
  }
  
  <hp-textfield 
    label="×©× ×”×œ×§×•×—" 
    placeholder="×©× ××œ× ××• ×›×™× ×•×™"
    formControlName="clientName"
  ></hp-textfield>
  @if (getControlError('clientName', 'minlength')) { <div class="error-message">
      ×©× ×”×œ×§×•×— ×—×™×™×‘ ×œ×”×›×™×œ ×œ×¤×—×•×ª 2 ×ª×•×•×™×.
    </div>
  }

  <div class="field-container">
    <label for="startDate">×ª××¨×™×š ×”×ª×—×œ×” *</label>
    <input id="startDate" type="date" formControlName="startDate" />
  </div>
  @if (getControlError('startDate', 'required')) { <div class="error-message">
      ×ª××¨×™×š ×”×ª×—×œ×” ×”×•× ×©×“×” ×—×•×‘×”.
    </div>
  }

  <hp-textfield 
    label="×ª×§×¦×™×‘ ××©×•×¢×¨ (â‚ª) *" 
    placeholder="×œ×“×•×’××”: 500000"
    type="number"
    formControlName="budget"
  ></hp-textfield>
  @if (getControlError('budget', 'required')) { <div class="error-message">
      ×©×“×” ×”×ª×§×¦×™×‘ ×”×•× ×©×“×” ×—×•×‘×”.
    </div>
  }
  @if (getControlError('budget', 'min')) { <div class="error-message">
      ×”×ª×§×¦×™×‘ ×—×™×™×‘ ×œ×”×™×•×ª ××¢×œ 1,000 â‚ª.
    </div>
  }

  <div class="submit-area">
    <button 
      type="submit" 
      [disabled]="projectForm.invalid || isLoading()"
      [class.loading]="isLoading()"
    >
      @if (!isLoading()) { <span>×¦×•×¨ ×¤×¨×•×™×§×˜</span>
      } @else { <span>×©×•×œ×—...</span>
      }
    </button>
  </div>
  
  @if (submissionSuccess()) { <div class="success-message">
      âœ… ×”×¤×¨×•×™×§×˜ **{{ projectForm.get('projectName')?.value || '×”×—×“×©' }}** × ×•×¦×¨ ×‘×”×¦×œ×—×”!
    </div>
  }

</form>